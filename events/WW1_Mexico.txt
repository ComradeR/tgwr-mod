add_namespace = ww1_mexico


# MEXICAN REVOLUTION
#####################
country_event = {
	id = ww1_mexico.1
	title = ww1_mexico.1.t
	desc = ww1_mexico.1.d
	picture = GFX_report_event_generic_riot
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_active_mission = {
			MEX_declare_martial_law_mission
			progress > 68 
		}
		OR = {
			focus_progress = {
				focus = MEX_launch_the_revolution
				progress > 26
			}
		}
	}

	option = {
		name = ww1_mexico.1.a
		add_ideas = MEX_idea_mexican_revolution
		set_global_flag = SUPER_GLOBAL_Mexican_Revolution_1910	
		ai_chance = { factor = 100 }
	}
}

# REBELLION AGAINST PORFORIO DIAZ
##################################
country_event = {
	id = ww1_mexico.2
	title = ww1_mexico.2.t
	desc = ww1_mexico.2.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes

	trigger = {
		tag = MEX
		has_global_flag = mexican_revolution
	}
	
	mean_time_to_happen = {
		days = 2
	}

	#SUPPORT OPPOSITION
	option = {
		name = ww1_mexico.2.a
		trigger = { has completed_focus = MEX_support_madero }
		add_stability = -0.1
		add_named_threat = { threat = 5 name = ww1_mexico.1.t }
		remove_ideas = MEX_idea_porfiriato
		remove_ideas = MEX_idea_incompetent_army
		set_global_flag = support_madero
		
		news_event = { id = ww1_mexico.101 }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			election_frequency = 48
		}
		hidden_effect = {
			set_popularities = {
				democratic = 68
				neutrality = 15
				fascism = 0
				communism = 17
			}
		}
		start_civil_war = {
			ruling_party = democratic
			ideology = neutrality
			size = 0.9
			only_own_territory = no
			capital = 277
			states = { 
				277 474 475 476 477 478 479 481 483 484 485 836 837 838 839 840 841 842
			}
			keep_unit_leaders = {
				123459
			}
			keep_political_leader = no
		}
		random_other_country = {
			load_focus_tree = {
						tree = mexican_focus
						keep_completed = no
			}
			unlock_national_focus = MEX_the_election_of_1910
			unlock_national_focus = MEX_appoint_porfirio_diaz_as_president
			unlock_national_focus = MEX_imprison_the_maderistas
			unlock_national_focus = MEX_expand_the_federal_army
			unlock_national_focus = MEX_declare_martial_law
			if = {
				limit = {
					has_country_flag = MEX_imprison_the_maderistas
				}
				add_political_power = 75
			}
			if = {
				limit = {
					has_country_flag = MEX_expand_the_federal_army
				}
				add_manpower = 10000
				add_stability = -0.0025
				add_war_support = -0.0025
				add_tech_bonus = {
					bonus = 1
					uses= 1
					category = infantry_weapons
				}
			}
			if = {
				limit = {
					has_country_flag = MEX_imprison_the_maderistas
				}
				add_political_power = 150
			}
			set_province_controller = 8097
			set_province_controller = 10809
			set_province_controller = 7973
		}
		hidden_effect = {
			set_cosmetic_tag = MEX_opposition
			create_corps_commander = {
				name = "Pancho Villa"
				portrait_path = "gfx/leaders/MEX/MEX_pancho_villa.tga"
				traits = { logistics_wizard offensive_doctrine inspirational_leader }
				skill = 4
				id = 123466
			}
			create_corps_commander={  
				name = "Pablo González Garza"
				portrait_path = "gfx/leaders/MEX/MEX_pablo_gonzalez_garza.dds"
				traits={ brilliant_strategist trait_reckless infantry_officer } 
				skill=3
				id = 123471
				attack_skill = 4
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Lucio Blanco"
				portrait_path = "gfx/leaders/MEX/MEX_lucio_blanco.dds"
				traits={ brilliant_strategist trait_reckless infantry_officer } 
				skill=3
				id = 123475
				attack_skill = 4
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Cándido Aguilar"
				portrait_path = "gfx/leaders/MEX/MEX_candido_aguilar.dds"
				traits={ career_officer } 
				skill=2 
				id = 123467
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Juan G. Cabral"
				portrait_path = "gfx/leaders/MEX/MEX_juan_cabral.dds"
				traits={ career_officer } 
				skill=2 
				id = 123468
				attack_skill = 3
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Eulalio Gutierrez"
				portrait_path = "gfx/leaders/MEX/MEX_eulalio_gutierrez.dds"
				traits={ } 
				skill=2 
				id = 123469
				attack_skill = 2
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Cesáreo Castro Villareal"
				portrait_path = "gfx/leaders/MEX/MEX_cesareo_castro_villareal.dds"
				traits={ career_officer } 
				skill=2 
				id = 123470
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Francisco Luis Urquizo"
				portrait_path = "gfx/leaders/MEX/MEX_francisco_urquizo.dds"
				traits={ career_officer } 
				skill=2 
				id = 123472
				attack_skill = 1
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Francisco José Múgica"
				portrait_path = "gfx/leaders/MEX/MEX_francisco_jose_mugica.dds"
				traits={ career_officer urban_assault_specialist } 
				skill=2 
				id = 123473
				attack_skill = 1
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Roque González Garza"
				portrait_path = "gfx/leaders/MEX/MEX_roque_gonzalez_garza.dds"
				traits={ career_officer politically_connected } 
				skill=1
				id = 123474
				attack_skill = 2
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			create_corps_commander={  
				name = "Salvador Alvarado" 
				traits={   } 
				skill=1 
				attack_skill = 1
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 2
			}
			add_timed_idea = { idea = MEX_death_before_surrender days = 700 }
			division_template = {
					name = "Milicia Maderista"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
			}
			480 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
					owner = MEX
					count = 4
				}
			}
			481 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
					owner = MEX
					allow_spawning_on_enemy_provs = yes
					count = 2
				}
			}
			482 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						count = 6
				}
			}
			483 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
					owner = MEX
					allow_spawning_on_enemy_provs = yes
					count = 2
				}
			}
			840 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
					owner = MEX
					allow_spawning_on_enemy_provs = yes
					count = 3
				}
			}
			841 = {
				create_unit = {
					division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
					owner = MEX
					allow_spawning_on_enemy_provs = yes
					count = 2
				}
			}
		}		
		ai_chance = {
	        factor = 10
	    }
	}
	
	#SUPPORT DIAZ
	option = {
		name = ww1_mexico.2.b
		add_stability = -0.1
		news_event = { id = ww1_mexico.101 }
		start_civil_war = {
			ruling_party = neutrality
			ideology = democratic
			size = 0.1
			capital = 482
			states = { 480 482 }
		}
		add_named_threat = { threat = 5 name = ww1_mexico.1.t }	
		set_global_flag = support_diaz
		
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = democratic
				}
				set_cosmetic_tag = MEX_opposition
				set_war_support = 0.8
				
				add_popularity = {
					ideology = neutrality
					popularity = 0.35
				}
				add_popularity = {
					ideology = communism
					popularity = 0.07
				}
				create_country_leader = {
					name = "Francisco Madero"
					picture = "gfx/leaders/MEX/MEX_francisco_madero.dds" 
					expire = "1935.1.1" 
					ideology = liberalism
					
				}
				create_corps_commander = {
				name = "Pancho Villa"
				portrait_path = "gfx/leaders/MEX/MEX_pancho_villa.tga"
				traits = { logistics_wizard offensive_doctrine inspirational_leader }
				skill = 4
				id = 123466
				}
				create_corps_commander={  
					name = "Pablo González Garza"
					portrait_path = "gfx/leaders/MEX/MEX_pablo_gonzalez_garza.dds"
					traits={ brilliant_strategist trait_reckless infantry_officer } 
					skill=3
					id = 123471
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Lucio Blanco"
					portrait_path = "gfx/leaders/MEX/MEX_lucio_blanco.dds"
					traits={ brilliant_strategist trait_reckless infantry_officer } 
					skill=3
					id = 123475
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Cándido Aguilar"
					portrait_path = "gfx/leaders/MEX/MEX_candido_aguilar.dds"
					traits={ career_officer } 
					skill=2 
					id = 123467
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Juan G. Cabral"
					portrait_path = "gfx/leaders/MEX/MEX_juan_cabral.dds"
					traits={ career_officer } 
					skill=2 
					id = 123468
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Eulalio Gutierrez"
					portrait_path = "gfx/leaders/MEX/MEX_eulalio_gutierrez.dds"
					traits={ } 
					skill=2 
					id = 123469
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Cesáreo Castro Villareal"
					portrait_path = "gfx/leaders/MEX/MEX_cesareo_castro_villareal.dds"
					traits={ career_officer } 
					skill=2 
					id = 123470
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Francisco Luis Urquizo"
					portrait_path = "gfx/leaders/MEX/MEX_francisco_urquizo.dds"
					traits={ career_officer } 
					skill=2 
					id = 123472
					attack_skill = 1
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Francisco José Múgica"
					portrait_path = "gfx/leaders/MEX/MEX_francisco_jose_mugica.dds"
					traits={ career_officer urban_assault_specialist } 
					skill=2 
					id = 123473
					attack_skill = 1
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Roque González Garza"
					portrait_path = "gfx/leaders/MEX/MEX_roque_gonzalez_garza.dds"
					traits={ career_officer politically_connected } 
					skill=1
					id = 123474
					attack_skill = 2
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander={  
					name = "Salvador Alvarado" 
					traits={   } 
					skill=1 
					attack_skill = 1
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2
				}
				add_timed_idea = { idea = MEX_death_before_surrender days = 700 }
				division_template = {
					name = "Milicia Maderista"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
				480 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						count = 4
					}
				}
				481 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						allow_spawning_on_enemy_provs = yes
						count = 2
					}
				}
				482 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						count = 6
					}
				}
				483 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						allow_spawning_on_enemy_provs = yes
						count = 2
					}
				}
				840 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						allow_spawning_on_enemy_provs = yes
						count = 3
					}
				}
				841 = {
					create_unit = {
						division = "division_template = \""Milicia Maderista"\" start_experience_factor = 0.2" 
						owner = MEX
						allow_spawning_on_enemy_provs = yes
						count = 2
					}
				}
			}
		set_province_controller = 8097
		set_province_controller = 10809
		set_province_controller = 7973
		}
		ai_chance = {
	        factor = 0
	    }
	}
}

# REVOLUTION IN MEXICO NEWS
############################
news_event = {
	id = ww1_mexico.101
	title = ww1_mexico.101.t
	desc = ww1_mexico.101.d
	picture = EVENT_hoi4tgw_mexican_revolution

	major = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.101.a
		trigger = {
			NOT = { original_tag = MEX }
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			set_country_flag = se_mex_revolution
		}
	}
	option = {
		name = ww1_mexico.101.b
		trigger = {
			original_tag = MEX
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			set_country_flag = se_mex_revolution
		}
	}
}

# MADERO IS DEAD
#################
country_event = {
	id = ww1_mexico.103
	title = ww1_mexico.103.t
	desc = ww1_mexico.103.d
	picture = GFX_report_event_generic_peaceful_annexation
	fire_only_once = yes
	trigger = {
		has_global_flag = mexican_revolution
		has_global_flag = support_madero
		has_country_leader = {
			name = "Francisco Madero"
			ruling_only = yes
		}
		MEX = {
			has_civil_war = no
		}
		has_civil_war = no
		has_stability < 0.5
		date > 1913.1.1
	}
	mean_time_to_happen = {
		days = 90
	}

	option = {
		name = ww1_mexico.103.a
		add_stability = -0.1
		kill_country_leader = yes		
		set_politics = {		
			ruling_party = neutrality
			elections_allowed = no
		}
		create_country_leader = {
			name = "Victoriano Huerta"
			picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
			expire = "1935.1.1"
			ideology = autocracy
			
		}
		remove_ideas = MEX_idea_mexican_revolution
		drop_cosmetic_tag = yes
		hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.5
			}
			set_global_flag = madero_is_dead
			MEX = {	
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = liberalism
					traits={ } 
				}
			}
		}
		ai_chance = {
	        factor = 100
	    }
	}
}

# CARRANZA REVOLT
#################
country_event = {
	id = ww1_mexico.3
	title = ww1_mexico.3.t
	desc = ww1_mexico.3.d
	picture = GFX_report_event_generic_peaceful_annexation

	fire_only_once = yes

	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Victoriano Huerta"
			ruling_only = yes
		}
		has_stability < 0.5
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 120
	}

	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.3.a
		add_stability = -0.1
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			election_frequency = 48
		}		
		start_civil_war = {
			ruling_party = democratic
			ideology = neutrality
			size = 0.3
			capital = 478
			states = { 478 479 485 480 }
		}		
		hidden_effect = {
			set_global_flag = support_carranza
			add_popularity = {
				ideology = democratic
				popularity = 0.5
			}
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = neutrality
				}
				set_cosmetic_tag = MEX_opposition
				add_popularity = {
					ideology = democratic
					popularity = 0.03
				}
				add_popularity = {
					ideology = communism
					popularity = 0.01
				}
				create_country_leader = {
					name = "Victoriano Huerta"
					picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
					expire = "1935.1.1"
					ideology = autocracy
					
				}				
			}
		}
		ai_chance = {
	        factor = 100
	    }
	}
	#SUPPORT HUERTA
	option = {
		name = ww1_mexico.3.b		
		start_civil_war = {
			ruling_party = neutrality
			ideology = democratic
			size = 0.7
			capital = 478
			states = { 478 479 485 480 }
		}		
		hidden_effect = {
			add_stability = -0.1
			set_global_flag = support_huerta
			set_cosmetic_tag = MEX_opposition
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = democratic
				}
				set_cosmetic_tag = MEX_original
				add_popularity = {
					ideology = communism
					popularity = 0.03
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.01
				}
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = liberalism
					traits={ } 
				}				
			}
		}
		ai_chance = {
	        factor = 0
	    }
	}
}

# CIVIL WAR
#################
country_event = {
	id = ww1_mexico.4
	title = ww1_mexico.4.t
	desc = ww1_mexico.4.d
	picture = GFX_report_event_generic_riot

	fire_only_once = yes

	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Venustiano Carranza"
			ruling_only = yes
		}
		has_stability < 0.5
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 90
	}

	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.4.a
		add_stability = -0.1
		start_civil_war = {
			ruling_party = democratic
			ideology = communism
			size = 0.4
			capital = 482
			states = { 482 481 485 480 }
		}
		hidden_effect = {
			set_global_flag = mexican_civil_war
			drop_cosmetic_tag = yes
			division_template = {
				name = "Constitutionalist Regiment"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			277 = {
				create_unit = {
					division = "name = \"1. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"2. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"3. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"4. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"5. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"6. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"7. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"8. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"9. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"10. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
					owner = MEX
				}
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = communism
				}
				set_cosmetic_tag = MEX_opposition
				add_popularity = {
					ideology = neutrality
					popularity = 0.10
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.10
				}
				division_template = {
					name = "Peasant Regiment"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
				}
				482 = {
					create_unit = {
						division = "name = \"1. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"2. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"3. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"4. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"5. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
				}
				485 = {
					create_unit = {
						division = "name = \"6. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"7. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"8. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
						owner = PREV
					}
				}
			}
		}
		ai_chance = {
	        factor = 100
	    }
	}
	#SUPPORT ZAPATA
	option = {
		name = ww1_mexico.4.b
		set_politics = {
			ruling_party = communism
			elections_allowed = yes
			election_frequency = 48
		}
		set_capital = 482
		start_civil_war = {
			ruling_party = communism
			ideology = democratic
			size = 0.6
			capital = 277
			states = { 277 479 487 477 476 475 474 483 484 478 }
		}
		set_cosmetic_tag = MEX_opposition
		hidden_effect = {
			set_global_flag = mexican_civil_war
			division_template = {
				name = "Peasant Regiment"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
			}
			482 = {
				create_unit = {
					division = "name = \"1. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"2. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"3. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"4. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"5. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
			}
			485 = {
				create_unit = {
					division = "name = \"6. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"7. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
				create_unit = {
					division = "name = \"8. Regimiento de Campesino\" division_template = \"Peasant Regiment\" start_experience_factor = 0" 
					owner = MEX
				}
			}
			add_popularity = {
				ideology = communism
				popularity = 0.5
			}			
			random_other_country = {
				limit = {
					original_tag = MEX
					has_government = democratic
				}
				set_cosmetic_tag = MEX_original
				add_popularity = {
					ideology = communism
					popularity = 0.03
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.01
				}
				create_country_leader = {
					name = "Venustiano Carranza"
					picture = "gfx/leaders/MEX/MEX_venustiano_carranza.dds"
					expire = "1935.1.1"
					ideology = liberalism
					 
				}
				division_template = {
					name = "Constitutionalist Regiment"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
					}
					support = {
						engineer = { x = 0 y = 0 }
					}
				}
				277 = {
					create_unit = {
						division = "name = \"1. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"2. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"3. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"4. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"5. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"6. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"7. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = PREV
					}
					create_unit = {
						division = "name = \"8. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = MEX
					}
					create_unit = {
						division = "name = \"9. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = MEX
					}
					create_unit = {
						division = "name = \"10. Regimiento\" division_template = \"Constitutionalist Regiment\" start_experience_factor = 0.1" 
						owner = MEX
					}
				}
			}
		}
		ai_chance = {
	        factor = 0
	    }
	}
}

# DIAZ IS DEAD
#################
country_event = {
	id = ww1_mexico.5
	title = ww1_mexico.5.t
	desc = ww1_mexico.5.d
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Porfirio Díaz"
			ruling_only = yes
		}
		date > 1915.7.1
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 5
	}

	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.5.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Victoriano Huerta"
			picture = "gfx/leaders/MEX/MEX_victoriano_huerta.dds"
			expire = "1935.1.1"
			ideology = autocracy
			
		}
		ai_chance = {
	        factor = 100
	    }
	}
}

# CARRANZA IS DEAD
#################
country_event = {
	id = ww1_mexico.6
	title = ww1_mexico.6.t
	desc = ww1_mexico.6.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			name = "Venustiano Carranza"
			ruling_only = yes
		}
		date > 1920.5.1
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = ww1_mexico.6.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Álvaro Obregón Salido"
			picture = "gfx/leaders/MEX/MEX_alvaro_obregon.dds"
			expire = "1935.1.1"
			ideology = liberalism
			
		}
		drop_cosmetic_tag = yes
		ai_chance = { factor = 100 }
	}
}

# BORDER WAR WON
#################
country_event = {
	id = ww1_mexico.7
	title = ww1_mexico.7.t
	desc = ww1_mexico.7.d
	picture = GFX_report_event_generic_peaceful_annexation
	
	is_triggered_only = yes

	option = {
		name = ww1_mexico.7.a
		trigger = { tag = MEX }
		MEX = {
			clr_country_flag = mexican_border_conflict_activate
			add_stability = 0.05
			add_tech_bonus = {
				name = MEX_border_conflict_won
				category = land_doctrine
				bonus = 0.5
			}
		}
		ai_chance = { factor = 100 }
	}
	option = {
		name = ww1_mexico.7.b		
		trigger = { tag = USA }
		USA = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = { factor = 100 }
	}
}
# BORDER WAR LOST
#################
country_event = {
	id = ww1_mexico.8
	title = ww1_mexico.8.t
	desc = ww1_mexico.8.d
	picture = GFX_report_event_generic_peaceful_annexation
	
	is_triggered_only = yes

	option = {
		name = ww1_mexico.8.a
		trigger = { tag = MEX }
		MEX = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = { factor = 100 }
	}
	option = {
		name = ww1_mexico.8.b
		trigger = { tag = USA }
		USA = {
			add_war_support = 0.05
			add_tech_bonus = {
				name = MEX_border_conflict_won
				category = land_doctrine
				bonus = 0.5
			}
		}
		ai_chance = { factor = 100 }
	}
}
# BORDER WAR CANCELLED
#################
country_event = {
	id = ww1_mexico.9
	title = ww1_mexico.9.t
	desc = ww1_mexico.9.d
	picture = GFX_report_event_generic_peaceful_annexation
	
	is_triggered_only = yes

	option = {
		name = ww1_mexico.9.a
		trigger = { tag = MEX }
		ai_chance = { factor = 100 }
	}
	option = {
		name = ww1_mexico.9.b
		trigger = { tag = USA }		
		ai_chance = { factor = 100 }
	}
}
# THE ELECTION OF 1910
#################
country_event = {
	id = ww1_mexico.11
	title = ww1_mexico.11.t
	desc = ww1_mexico.11.d
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	#Support Madero
	option = {
		name = ww1_mexico.11.a
		trigger = {
			NOT = {
				has_completed_focus = MEX_appoint_porfirio_diaz_as_president
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		add_political_power = 5
		if = {
			limit = {
				NOT = {
					has_completed_focus = MEX_support_madero
				}
			}
			complete_national_focus = MEX_support_madero
			add_political_power = -63
			set_country_flag = MEX_1910_election
			hidden_effect = {
				activate_mission = MEX_imprison_the_maderistas_mission
				add_ideas = MEX_idea_political_violence
			}
		}
	}
	option = {
		name = ww1_mexico.11.b
		trigger = {
			NOT = {
				has_completed_focus = MEX_support_madero
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		add_political_power = 5
		if = {
			limit = {
				NOT = {
					has_completed_focus = MEX_appoint_porfirio_diaz_as_president
				}
			}
			complete_national_focus = MEX_appoint_porfirio_diaz_as_president
			add_political_power = -63
			set_country_flag = MEX_1910_election
			hidden_effect = {
				activate_mission = MEX_spread_the_plan_of_san_luis_mission
				add_ideas = MEX_idea_political_violence
			}
		}
	}
}

